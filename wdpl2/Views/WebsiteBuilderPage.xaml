<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Wdpl2.Views.WebsiteBuilderPage"
             Title="Website Builder">
    
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            
            <!-- Header -->
            <Label Text="Website Builder"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="#3B82F6"/>
            
            <Label Text="Design and publish your league website"
                   FontSize="14"
                   TextColor="#6B7280"/>
            
            <!-- Quick Actions Bar -->
            <Grid ColumnDefinitions="*,*,*" ColumnSpacing="10">
                <Button Grid.Column="0"
                        x:Name="PreviewBtn"
                        Text="üëÅ Preview"
                        Clicked="OnPreviewClicked"
                        BackgroundColor="#3B82F6"
                        FontSize="13"/>
                
                <Button Grid.Column="1"
                        x:Name="GenerateBtn"
                        Text="üöÄ Deploy"
                        Clicked="OnDeployClicked"
                        BackgroundColor="#10B981"
                        FontSize="13"/>
                
                <Button Grid.Column="2"
                        x:Name="SaveSettingsBtn"
                        Text="üíæ Save"
                        Clicked="OnSaveSettingsClicked"
                        BackgroundColor="#6B7280"
                        FontSize="13"/>
            </Grid>
            
            <!-- Status Label -->
            <Label x:Name="StatusLabel" 
                   FontSize="14"
                   TextColor="#10B981"
                   IsVisible="False"/>
            
            <!-- Progress Bar -->
            <ProgressBar x:Name="UploadProgress" 
                         IsVisible="False" 
                         ProgressColor="#3B82F6"/>
            
            <!-- Season Selection (Always visible) -->
            <Frame BorderColor="#3B82F6" Padding="15" CornerRadius="8" BackgroundColor="#EFF6FF">
                <VerticalStackLayout Spacing="10">
                    <Label Text="üìÖ Season &amp; Template" FontAttributes="Bold" FontSize="16"/>
                    <Picker x:Name="SeasonPicker" Title="Select Season"/>
                    <Picker x:Name="TemplatePicker" 
                            Title="Select Template"
                            SelectedIndexChanged="OnTemplateChanged"/>
                    <Label x:Name="TemplateDescription" 
                           FontSize="12" 
                           TextColor="#6B7280"
                           IsVisible="False"/>
                </VerticalStackLayout>
            </Frame>
            
            <!-- ===== COLLAPSIBLE SECTIONS ===== -->
            
            <!-- 1. Site Branding Section -->
            <Frame BorderColor="#E5E7EB" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#F9FAFB" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnBrandingSectionTapped"/>
                        </Grid.GestureRecognizers>
                        <Label Text="üè∑Ô∏è Site Branding" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Label x:Name="BrandingExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="BrandingContent" Padding="15" Spacing="10" IsVisible="False">
                        <Label Text="League Name" FontSize="14"/>
                        <Entry x:Name="LeagueNameEntry" Placeholder="e.g., West Division Pool League"/>
                        
                        <Label Text="Subtitle" FontSize="14"/>
                        <Entry x:Name="SubtitleEntry" Placeholder="e.g., Weekly 8-Ball Competition"/>
                        
                        <Label Text="League Logo (Optional)" FontSize="14"/>
                        <HorizontalStackLayout Spacing="10">
                            <Button x:Name="UploadLogoBtn" 
                                    Text="Upload Logo" 
                                    Clicked="OnUploadLogoClicked"
                                    BackgroundColor="#6B7280"
                                    FontSize="12"/>
                            <Label x:Name="LogoStatusLabel" 
                                   Text="No logo selected"
                                   FontSize="12"
                                   TextColor="#6B7280"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        <Image x:Name="LogoPreviewImage" 
                               HeightRequest="80" 
                               Aspect="AspectFit"
                               IsVisible="False"/>
                        
                        <Label Text="Logo Position" FontSize="14"/>
                        <Picker x:Name="LogoPositionPicker" Title="Select Position">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:String}">
                                    <x:String>above</x:String>
                                    <x:String>left</x:String>
                                    <x:String>right</x:String>
                                    <x:String>hidden</x:String>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- 2. Contact & Social Section -->
            <Frame BorderColor="#E5E7EB" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#F9FAFB" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnContactSectionTapped"/>
                        </Grid.GestureRecognizers>
                        <Label Text="üìû Contact &amp; Social" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Label x:Name="ContactExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="ContactContent" Padding="15" Spacing="10" IsVisible="False">
                        <Label Text="Welcome Message" FontSize="14"/>
                        <Editor x:Name="WelcomeMessageEditor" 
                                Placeholder="Welcome to our pool league..."
                                HeightRequest="60"
                                AutoSize="TextChanges"/>
                        
                        <Label Text="About Text" FontSize="14"/>
                        <Editor x:Name="AboutTextEditor" 
                                Placeholder="About the league..."
                                HeightRequest="60"
                                AutoSize="TextChanges"/>
                        
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="10" RowSpacing="8" RowDefinitions="Auto,Auto,Auto">
                            <Entry Grid.Row="0" Grid.Column="0" x:Name="ContactEmailEntry" Placeholder="Email" Keyboard="Email"/>
                            <Entry Grid.Row="0" Grid.Column="1" x:Name="ContactPhoneEntry" Placeholder="Phone" Keyboard="Telephone"/>
                            <Entry Grid.Row="1" Grid.ColumnSpan="2" x:Name="ContactAddressEntry" Placeholder="Address"/>
                        </Grid>
                        
                        <Label Text="Social Media Links" FontSize="14" FontAttributes="Bold" Margin="0,10,0,0"/>
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="10" RowSpacing="8" RowDefinitions="Auto,Auto,Auto">
                            <Entry Grid.Row="0" Grid.Column="0" x:Name="FacebookUrlEntry" Placeholder="Facebook URL"/>
                            <Entry Grid.Row="0" Grid.Column="1" x:Name="TwitterUrlEntry" Placeholder="Twitter/X URL"/>
                            <Entry Grid.Row="1" Grid.Column="0" x:Name="InstagramUrlEntry" Placeholder="Instagram URL"/>
                            <Entry Grid.Row="1" Grid.Column="1" x:Name="YouTubeUrlEntry" Placeholder="YouTube URL"/>
                            <Entry Grid.Row="2" Grid.Column="0" x:Name="TikTokUrlEntry" Placeholder="TikTok URL"/>
                            <Entry Grid.Row="2" Grid.Column="1" x:Name="WebsiteUrlEntry" Placeholder="Website URL"/>
                        </Grid>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- 3. Colors & Theme Section -->
            <Frame BorderColor="#E5E7EB" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#F9FAFB" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnColorsSectionTapped"/>
                        </Grid.GestureRecognizers>
                        <Label Text="üé® Colors &amp; Theme" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Label x:Name="ColorsExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="ColorsContent" Padding="15" Spacing="10" IsVisible="False">
                        <Label Text="Quick Color Scheme" FontSize="14"/>
                        <Picker x:Name="ColorSchemePicker" 
                                Title="Select a preset..."
                                SelectedIndexChanged="OnColorSchemeChanged"/>
                        
                        <Label Text="Primary Colors" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <Grid ColumnDefinitions="*,*,*" ColumnSpacing="8">
                            <Entry Grid.Column="0" x:Name="PrimaryColorEntry" Placeholder="Primary"/>
                            <Entry Grid.Column="1" x:Name="SecondaryColorEntry" Placeholder="Secondary"/>
                            <Entry Grid.Column="2" x:Name="AccentColorEntry" Placeholder="Accent"/>
                        </Grid>
                        
                        <Label Text="Background Colors" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="8" RowSpacing="8" RowDefinitions="Auto,Auto">
                            <Entry Grid.Row="0" Grid.Column="0" x:Name="BackgroundColorEntry" Placeholder="Background"/>
                            <Entry Grid.Row="0" Grid.Column="1" x:Name="CardBackgroundColorEntry" Placeholder="Card BG"/>
                            <Entry Grid.Row="1" Grid.Column="0" x:Name="TextColorEntry" Placeholder="Text"/>
                            <Entry Grid.Row="1" Grid.Column="1" x:Name="TextSecondaryColorEntry" Placeholder="Secondary Text"/>
                        </Grid>
                        <Entry x:Name="HeaderTextColorEntry" Placeholder="Header Text Color"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- 4. Layout & Styling Section -->
            <Frame BorderColor="#E5E7EB" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#F9FAFB" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnLayoutSectionTapped"/>
                        </Grid.GestureRecognizers>
                        <Label Text="‚öôÔ∏è Layout &amp; Styling" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Label x:Name="LayoutExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="LayoutContent" Padding="15" Spacing="10" IsVisible="False">
                        <!-- Theme Toggles -->
                        <Label Text="Theme Effects" FontSize="13" FontAttributes="Bold"/>
                        <FlexLayout Wrap="Wrap" JustifyContent="Start">
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="EnableAnimationsCheck" IsChecked="True"/>
                                <Label Text="Animations" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="EnableGradientsCheck" IsChecked="True"/>
                                <Label Text="Gradients" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="EnableShadowsCheck" IsChecked="True"/>
                                <Label Text="Shadows" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="EnableRoundedCornersCheck" IsChecked="True"/>
                                <Label Text="Rounded" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowLastUpdatedCheck" IsChecked="True"/>
                                <Label Text="Last Updated" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                        </FlexLayout>
                        
                        <!-- Typography -->
                        <Label Text="Typography" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="8" RowSpacing="8" RowDefinitions="Auto,Auto">
                            <Picker Grid.Row="0" Grid.Column="0" x:Name="FontFamilyPicker" Title="Body Font">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>Inter</x:String>
                                        <x:String>Roboto</x:String>
                                        <x:String>Open Sans</x:String>
                                        <x:String>Poppins</x:String>
                                        <x:String>Lato</x:String>
                                        <x:String>Montserrat</x:String>
                                        <x:String>Nunito</x:String>
                                        <x:String>System</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Picker Grid.Row="0" Grid.Column="1" x:Name="HeaderFontFamilyPicker" Title="Header Font">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>Inter</x:String>
                                        <x:String>Roboto</x:String>
                                        <x:String>Open Sans</x:String>
                                        <x:String>Poppins</x:String>
                                        <x:String>Lato</x:String>
                                        <x:String>Montserrat</x:String>
                                        <x:String>Nunito</x:String>
                                        <x:String>System</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Entry Grid.Row="1" Grid.Column="0" x:Name="BaseFontSizeEntry" Placeholder="Font Size (16)" Keyboard="Numeric"/>
                            <Entry Grid.Row="1" Grid.Column="1" x:Name="BorderRadiusEntry" Placeholder="Border Radius (12)" Keyboard="Numeric"/>
                        </Grid>
                        
                        <!-- Header/Nav/Footer -->
                        <Label Text="Header &amp; Navigation" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="8" RowSpacing="8" RowDefinitions="Auto,Auto">
                            <Picker Grid.Row="0" Grid.Column="0" x:Name="HeaderStylePicker" Title="Header Style">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>gradient</x:String>
                                        <x:String>solid</x:String>
                                        <x:String>image</x:String>
                                        <x:String>minimal</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Picker Grid.Row="0" Grid.Column="1" x:Name="HeaderAlignmentPicker" Title="Alignment">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>left</x:String>
                                        <x:String>center</x:String>
                                        <x:String>right</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Picker Grid.Row="1" Grid.Column="0" x:Name="NavStylePicker" Title="Nav Style">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>pills</x:String>
                                        <x:String>underline</x:String>
                                        <x:String>buttons</x:String>
                                        <x:String>minimal</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Picker Grid.Row="1" Grid.Column="1" x:Name="NavPositionPicker" Title="Nav Position">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>left</x:String>
                                        <x:String>center</x:String>
                                        <x:String>right</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                        </Grid>
                        <FlexLayout Wrap="Wrap" JustifyContent="Start">
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowHeaderPatternCheck" IsChecked="True"/>
                                <Label Text="Header Pattern" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowSeasonBadgeCheck" IsChecked="True"/>
                                <Label Text="Season Badge" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="NavStickyCheck" IsChecked="True"/>
                                <Label Text="Sticky Nav" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowNavIconsCheck" IsChecked="False"/>
                                <Label Text="Nav Icons" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                        </FlexLayout>
                        
                        <!-- Footer -->
                        <Label Text="Footer" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <Picker x:Name="FooterStylePicker" Title="Footer Style">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:String}">
                                    <x:String>dark</x:String>
                                    <x:String>light</x:String>
                                    <x:String>gradient</x:String>
                                    <x:String>minimal</x:String>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                        <FlexLayout Wrap="Wrap" JustifyContent="Start">
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowFooterSocialLinksCheck" IsChecked="True"/>
                                <Label Text="Social Links" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowFooterContactCheck" IsChecked="True"/>
                                <Label Text="Contact" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowPoweredByCheck" IsChecked="True"/>
                                <Label Text="Powered By" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                        </FlexLayout>
                        <Entry x:Name="CustomFooterTextEntry" Placeholder="Custom footer text..."/>
                        <Entry x:Name="CopyrightTextEntry" Placeholder="¬© 2024 Your League"/>
                        
                        <!-- Table & Card Styling -->
                        <Label Text="Table &amp; Card Styling" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <FlexLayout Wrap="Wrap" JustifyContent="Start">
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="TableStripedCheck" IsChecked="False"/>
                                <Label Text="Striped" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="TableHoverableCheck" IsChecked="True"/>
                                <Label Text="Hoverable" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="TableBorderedCheck" IsChecked="False"/>
                                <Label Text="Bordered" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="TableCompactCheck" IsChecked="False"/>
                                <Label Text="Compact" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="CardShowTopAccentCheck" IsChecked="True"/>
                                <Label Text="Card Accent" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                        </FlexLayout>
                        <Grid ColumnDefinitions="*,*,*" ColumnSpacing="8">
                            <Picker Grid.Column="0" x:Name="TableHeaderStylePicker" Title="Table Header">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>gradient</x:String>
                                        <x:String>solid</x:String>
                                        <x:String>minimal</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Picker Grid.Column="1" x:Name="CardStylePicker" Title="Card Style">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>elevated</x:String>
                                        <x:String>flat</x:String>
                                        <x:String>bordered</x:String>
                                        <x:String>glass</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Picker Grid.Column="2" x:Name="CardAccentPositionPicker" Title="Accent Pos">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>top</x:String>
                                        <x:String>left</x:String>
                                        <x:String>none</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                        </Grid>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- 5. Pages & Content Section -->
            <Frame BorderColor="#E5E7EB" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#F9FAFB" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnContentSectionTapped"/>
                        </Grid.GestureRecognizers>
                        <Label Text="üìÑ Pages &amp; Content" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Label x:Name="ContentExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="ContentContent" Padding="15" Spacing="10" IsVisible="False">
                        <Label Text="Pages to Include" FontSize="13" FontAttributes="Bold"/>
                        <FlexLayout Wrap="Wrap" JustifyContent="Start">
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowStandingsCheck" IsChecked="True"/>
                                <Label Text="Standings" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowFixturesCheck" IsChecked="True"/>
                                <Label Text="Fixtures" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowResultsCheck" IsChecked="True"/>
                                <Label Text="Results" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowPlayerStatsCheck" IsChecked="True"/>
                                <Label Text="Players" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowDivisionsCheck" IsChecked="True"/>
                                <Label Text="Divisions" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowGalleryCheck" IsChecked="False"/>
                                <Label Text="Gallery" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowTopScorersCheck" IsChecked="True"/>
                                <Label Text="Top Scorers" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowRecentFormCheck" IsChecked="True"/>
                                <Label Text="Recent Form" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowNewsCheck" IsChecked="False"/>
                                <Label Text="News" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowSponsorsCheck" IsChecked="False"/>
                                <Label Text="Sponsors" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowRulesCheck" IsChecked="False"/>
                                <Label Text="Rules" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="ShowContactPageCheck" IsChecked="False"/>
                                <Label Text="Contact" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                        </FlexLayout>
                        
                        <Label Text="Home Page Layout" FontSize="13" FontAttributes="Bold" Margin="0,10,0,0"/>
                        <Picker x:Name="HomeLayoutPicker" Title="Select Layout">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:String}">
                                    <x:String>standard</x:String>
                                    <x:String>magazine</x:String>
                                    <x:String>minimal</x:String>
                                    <x:String>dashboard</x:String>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                        
                        <Label Text="Home Page Sections" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <FlexLayout Wrap="Wrap" JustifyContent="Start">
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="HomeShowWelcomeSectionCheck" IsChecked="True"/>
                                <Label Text="Welcome" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="HomeShowQuickStatsCheck" IsChecked="True"/>
                                <Label Text="Stats" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="HomeShowRecentResultsCheck" IsChecked="True"/>
                                <Label Text="Results" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="HomeShowUpcomingFixturesCheck" IsChecked="True"/>
                                <Label Text="Fixtures" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="HomeShowLeagueLeadersCheck" IsChecked="True"/>
                                <Label Text="Leaders" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="HomeShowLatestNewsCheck" IsChecked="False"/>
                                <Label Text="News" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="HomeShowSponsorsCheck" IsChecked="False"/>
                                <Label Text="Sponsors" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                        </FlexLayout>
                        
                        <Label Text="Display Counts" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <Grid ColumnDefinitions="*,*,*" ColumnSpacing="8">
                            <Entry Grid.Column="0" x:Name="HomeRecentResultsCountEntry" Placeholder="Results (5)" Keyboard="Numeric"/>
                            <Entry Grid.Column="1" x:Name="HomeUpcomingFixturesCountEntry" Placeholder="Fixtures (5)" Keyboard="Numeric"/>
                            <Entry Grid.Column="2" x:Name="HomeLeagueLeadersCountEntry" Placeholder="Leaders (5)" Keyboard="Numeric"/>
                        </Grid>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- 6. Gallery Section -->
            <Frame BorderColor="#E5E7EB" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#F9FAFB" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnGallerySectionTapped"/>
                        </Grid.GestureRecognizers>
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="üì∑ Photo Gallery" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                            <Label x:Name="GalleryCountLabel" Text="(0 images)" FontSize="12" TextColor="#6B7280" VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        <Label x:Name="GalleryExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="GalleryContent" Padding="15" Spacing="10" IsVisible="False">
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                            <Button Grid.Column="0"
                                    x:Name="AddGalleryImageBtn"
                                    Text="Add Photos"
                                    Clicked="OnAddGalleryImagesClicked"
                                    BackgroundColor="#3B82F6"
                                    FontSize="12"/>
                            <Button Grid.Column="1"
                                    x:Name="ManageGalleryBtn"
                                    Text="Manage"
                                    Clicked="OnManageGalleryClicked"
                                    BackgroundColor="#6B7280"
                                    FontSize="12"/>
                        </Grid>
                        
                        <Label Text="Gallery Options" FontSize="13" FontAttributes="Bold" Margin="0,5,0,0"/>
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="8">
                            <Picker Grid.Column="0" x:Name="GalleryLayoutPicker" Title="Layout">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>grid</x:String>
                                        <x:String>masonry</x:String>
                                        <x:String>carousel</x:String>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>
                            <Entry Grid.Column="1" x:Name="GalleryColumnsEntry" Placeholder="Columns (3)" Keyboard="Numeric"/>
                        </Grid>
                        <FlexLayout Wrap="Wrap" JustifyContent="Start">
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="GalleryShowCaptionsCheck" IsChecked="True"/>
                                <Label Text="Captions" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="GalleryShowCategoriesCheck" IsChecked="True"/>
                                <Label Text="Categories" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5" Margin="0,0,15,5">
                                <CheckBox x:Name="GalleryEnableLightboxCheck" IsChecked="True"/>
                                <Label Text="Lightbox" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                        </FlexLayout>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- 7. SEO & Advanced Section -->
            <Frame BorderColor="#E5E7EB" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#F9FAFB" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnSeoSectionTapped"/>
                        </Grid.GestureRecognizers>
                        <Label Text="üîç SEO &amp; Advanced" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Label x:Name="SeoExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="SeoContent" Padding="15" Spacing="10" IsVisible="False">
                        <Label Text="Meta Description" FontSize="14"/>
                        <Editor x:Name="MetaDescriptionEditor" 
                                Placeholder="A brief description for search engines..."
                                HeightRequest="60"
                                AutoSize="TextChanges"/>
                        
                        <Label Text="Meta Keywords" FontSize="14"/>
                        <Entry x:Name="MetaKeywordsEntry" Placeholder="pool league, 8-ball, competition"/>
                        
                        <HorizontalStackLayout Spacing="10">
                            <CheckBox x:Name="GenerateSitemapCheck" IsChecked="False"/>
                            <Label Text="Generate Sitemap" VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        
                        <Label Text="Custom CSS (Advanced)" FontSize="14" FontAttributes="Bold" Margin="0,10,0,0"/>
                        <Editor x:Name="CustomCssEditor" 
                                Placeholder="/* Add custom CSS here */"
                                HeightRequest="80"
                                FontFamily="Consolas"
                                AutoSize="TextChanges"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- 8. Deployment Section -->
            <Frame BorderColor="#3B82F6" Padding="0" CornerRadius="8">
                <VerticalStackLayout>
                    <Grid Padding="15" BackgroundColor="#EFF6FF" ColumnDefinitions="*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnDeploymentSectionTapped"/>
                        </Grid.GestureRecognizers>
                        <Label Text="üöÄ Deployment" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Label x:Name="DeploymentExpandIcon" Grid.Column="1" Text="‚ñº" FontSize="14" TextColor="#6B7280" VerticalOptions="Center"/>
                    </Grid>
                    <VerticalStackLayout x:Name="DeploymentContent" Padding="15" Spacing="10" IsVisible="True">
                        <Picker x:Name="DeploymentMethodPicker" 
                                Title="Select Deployment Method"
                                SelectedIndexChanged="OnDeploymentMethodChanged">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:String}">
                                    <x:String>üìÅ Local Export</x:String>
                                    <x:String>üêô GitHub Pages</x:String>
                                    <x:String>üì§ FTP Upload</x:String>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                        
                        <!-- Local Export -->
                        <VerticalStackLayout x:Name="LocalExportFrame" Spacing="10" IsVisible="False">
                            <Label Text="Export files to a folder or ZIP" FontSize="12" TextColor="#6B7280"/>
                            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                                <Button Grid.Column="0" x:Name="ExportToFolderBtn" Text="üìÅ Folder" Clicked="OnExportToFolderClicked" BackgroundColor="#10B981" FontSize="12"/>
                                <Button Grid.Column="1" x:Name="ExportAsZipBtn" Text="üì¶ ZIP" Clicked="OnExportAsZipClicked" BackgroundColor="#6B7280" FontSize="12"/>
                            </Grid>
                        </VerticalStackLayout>
                        
                        <!-- GitHub Pages -->
                        <VerticalStackLayout x:Name="GitHubFrame" Spacing="10" IsVisible="False">
                            <Label Text="Free hosting on GitHub Pages" FontSize="12" TextColor="#6B7280"/>
                            <Entry x:Name="GitHubTokenEntry" Placeholder="GitHub Token (ghp_...)" IsPassword="True"/>
                            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                                <Entry Grid.Column="0" x:Name="GitHubUsernameEntry" Placeholder="Username"/>
                                <Entry Grid.Column="1" x:Name="GitHubRepoEntry" Placeholder="Repository"/>
                            </Grid>
                            <HorizontalStackLayout Spacing="10">
                                <CheckBox x:Name="GitHubCreateRepoCheck" IsChecked="True"/>
                                <Label Text="Create repo if needed" VerticalOptions="Center" FontSize="12"/>
                            </HorizontalStackLayout>
                            <Label x:Name="GitHubUrlPreview" Text="Your site: https://username.github.io/repo/" FontSize="11" TextColor="#3B82F6"/>
                            <Frame x:Name="GitHubStatusFrame" BackgroundColor="#FEF3C7" BorderColor="#F59E0B" Padding="8" CornerRadius="6" IsVisible="False">
                                <Label x:Name="GitHubStatusLabel" Text="‚è≥ Checking..." FontSize="11" TextColor="#92400E"/>
                            </Frame>
                            <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10">
                                <Button Grid.Column="0" x:Name="DeployToGitHubBtn" Text="üöÄ Deploy" Clicked="OnDeployToGitHubClicked" BackgroundColor="#238636" FontSize="12"/>
                                <Button Grid.Column="1" x:Name="CheckGitHubStatusBtn" Text="üìä" Clicked="OnCheckGitHubStatusClicked" BackgroundColor="#6B7280" WidthRequest="50"/>
                            </Grid>
                        </VerticalStackLayout>
                        
                        <!-- FTP Upload -->
                        <VerticalStackLayout x:Name="FtpFrame" Spacing="10" IsVisible="False">
                            <Label Text="Upload via FTP" FontSize="12" TextColor="#6B7280"/>
                            <Entry x:Name="FtpHostEntry" Placeholder="FTP Host"/>
                            <Grid ColumnDefinitions="*,80" ColumnSpacing="10">
                                <Entry Grid.Column="0" x:Name="FtpUsernameEntry" Placeholder="Username"/>
                                <Entry Grid.Column="1" x:Name="FtpPortEntry" Placeholder="Port" Keyboard="Numeric"/>
                            </Grid>
                            <Entry x:Name="FtpPasswordEntry" Placeholder="Password" IsPassword="True"/>
                            <Entry x:Name="FtpPathEntry" Placeholder="Remote Path (/public_html/)"/>
                            <Button x:Name="TestConnectionBtn" Text="Test Connection" Clicked="OnTestConnectionClicked" BackgroundColor="#6B7280" FontSize="12"/>
                        </VerticalStackLayout>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Frame>
            
            <!-- WebView Preview Section -->
            <Frame x:Name="PreviewFrame" 
                   BorderColor="#E5E7EB" 
                   Padding="0" 
                   CornerRadius="8"
                   IsVisible="False">
                <VerticalStackLayout Spacing="0">
                    <Grid BackgroundColor="#F3F4F6" Padding="15" ColumnDefinitions="*,Auto,Auto">
                        <Label Grid.Column="0" Text="Live Preview" FontAttributes="Bold" FontSize="16" VerticalOptions="Center"/>
                        <Picker Grid.Column="1" x:Name="PreviewPagePicker" Title="Page" WidthRequest="120" Margin="0,0,10,0" SelectedIndexChanged="OnPreviewPageChanged"/>
                        <Button Grid.Column="2" Text="‚úï" Clicked="OnClosePreviewClicked" BackgroundColor="#EF4444" TextColor="White" WidthRequest="40"/>
                    </Grid>
                    <WebView x:Name="PreviewWebView" HeightRequest="500" HorizontalOptions="Fill"/>
                </VerticalStackLayout>
            </Frame>
            
            <!-- Hidden template elements -->
            <Label x:Name="TemplateFeatures" IsVisible="False"/>
            
        </VerticalStackLayout>
    </ScrollView>
    
</ContentPage>
